---
# Launch the common tasks on every cluster node.
# This is the common base for every technology framework (role).
# Target hosts: worker
#

- name: Check availability of VM's
  become: true
  copy:
    content: "  VM gestionada por los roles/playbooks de Ansible.\n"
    dest: /etc/motd

- name: Include the role specific variables file
  include_vars: "{{ role_path }}/vars/main.yml"

- name: Include the DNF update role
  include_tasks: "{{ playbook_dir }}/common_tasks/packages.yml"

- name: Include the technology own user creation role
  include_tasks: "{{ playbook_dir }}/common_tasks/user_creation.yml"

- name: Include the technology latest tarball deployment role
  include_tasks: "{{ playbook_dir }}/common_tasks/tarball_deploy.yml"

...
